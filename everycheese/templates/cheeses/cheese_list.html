{% extends "base.html" %}

{% block title %}Cheese List{% endblock title %}

{% block content %}
<h2>Cheese List</h2>

<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Country of Origin</th>
      <th>Command</th>
      <th>Rating</th>
    </tr>
  </thead>
  <tbody>
    {% for cheese in cheese_list %}
    <tr>
      <td><a href="{% url 'cheeses:detail' cheese.slug %}">{{ cheese.name }}</a></td>
      <td>
        {% if cheese.country_of_origin %}
          {{ cheese.country_of_origin.name }}
          <img src="{{ cheese.country_of_origin.flag }}" alt="{{ cheese.country_of_origin.name }} Flag" />
        {% else %}
          N/A
        {% endif %}
      </td>
      <td>
        <form method="post" action="{% url 'cheeses:delete' cheese.slug %}" style="display: inline;">
          {% csrf_token %}
          <button type="submit" class="btn btn-link" onclick=" return confirm('Are you sure to delete this cheese?')">Delete</button>
        </form>
        |
        <a href="{% url 'cheeses:update' slug=cheese.slug %}" class="btn btn-link">Update</a>
      </td>
      <td>
        {{cheese.average_rating}}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<hr/>
<p>Don't see a cheese listed here?</p>
<p>
  <a class="btn btn-primary"
        href="{% url 'cheeses:add' %}" role="button">
    Add Cheese
  </a>
</p>

{% endblock content %}
